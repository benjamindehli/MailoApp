const cacheName = "Mailo App v1";
const imagesAsset = [
    "/src/data/images/fylke_agder.svg",
    "/src/data/images/fylke_akershus.svg",
    "/src/data/images/fylke_buskerud.svg",
    "/src/data/images/fylke_finnmark.svg",
    "/src/data/images/fylke_innlandet.svg",
    "/src/data/images/fylke_moere-og-romsdal.svg",
    "/src/data/images/fylke_nordland.svg",
    "/src/data/images/fylke_oestfold.svg",
    "/src/data/images/fylke_oslo.svg",
    "/src/data/images/fylke_rogaland.svg",
    "/src/data/images/fylke_telemark.svg",
    "/src/data/images/fylke_troendelag.svg",
    "/src/data/images/fylke_troms.svg",
    "/src/data/images/fylke_vestfold.svg",
    "/src/data/images/fylke_vestland.svg",
    "/src/data/images/kommune_alstahaug.svg",
    "/src/data/images/kommune_alta.svg",
    "/src/data/images/kommune_alvdal.svg",
    "/src/data/images/kommune_alver.svg",
    "/src/data/images/kommune_andoey.svg",
    "/src/data/images/kommune_aremark.svg",
    "/src/data/images/kommune_arendal.svg",
    "/src/data/images/kommune_asker.svg",
    "/src/data/images/kommune_askvoll.svg",
    "/src/data/images/kommune_askoey.svg",
    "/src/data/images/kommune_aukra.svg",
    "/src/data/images/kommune_aure.svg",
    "/src/data/images/kommune_aurland.svg",
    "/src/data/images/kommune_aurskog-hoeland.svg",
    "/src/data/images/kommune_austevoll.svg",
    "/src/data/images/kommune_austrheim.svg",
    "/src/data/images/kommune_averoey.svg",
    "/src/data/images/kommune_balsfjord.svg",
    "/src/data/images/kommune_bamble.svg",
    "/src/data/images/kommune_bardu.svg",
    "/src/data/images/kommune_beiarn.svg",
    "/src/data/images/kommune_bergen.svg",
    "/src/data/images/kommune_berlevaag.svg",
    "/src/data/images/kommune_bindal.svg",
    "/src/data/images/kommune_birkenes.svg",
    "/src/data/images/kommune_bjerkreim.svg",
    "/src/data/images/kommune_bjoernafjorden.svg",
    "/src/data/images/kommune_bodoe.svg",
    "/src/data/images/kommune_bokn.svg",
    "/src/data/images/kommune_bremanger.svg",
    "/src/data/images/kommune_broennoey.svg",
    "/src/data/images/kommune_bygland.svg",
    "/src/data/images/kommune_bykle.svg",
    "/src/data/images/kommune_baatsfjord.svg",
    "/src/data/images/kommune_baerum.svg",
    "/src/data/images/kommune_boe-i-nordland.svg",
    "/src/data/images/kommune_boemlo.svg",
    "/src/data/images/kommune_dovre.svg",
    "/src/data/images/kommune_drammen.svg",
    "/src/data/images/kommune_drangedal.svg",
    "/src/data/images/kommune_dyroey.svg",
    "/src/data/images/kommune_doenna.svg",
    "/src/data/images/kommune_eidfjord.svg",
    "/src/data/images/kommune_eidskog.svg",
    "/src/data/images/kommune_eidsvoll.svg",
    "/src/data/images/kommune_eigersund.svg",
    "/src/data/images/kommune_elverum.svg",
    "/src/data/images/kommune_enebakk.svg",
    "/src/data/images/kommune_engerdal.svg",
    "/src/data/images/kommune_etne.svg",
    "/src/data/images/kommune_etnedal.svg",
    "/src/data/images/kommune_evenes.svg",
    "/src/data/images/kommune_evje-og-hornnes.svg",
    "/src/data/images/kommune_farsund.svg",
    "/src/data/images/kommune_fauske.svg",
    "/src/data/images/kommune_fedje.svg",
    "/src/data/images/kommune_fitjar.svg",
    "/src/data/images/kommune_fjaler.svg",
    "/src/data/images/kommune_fjord.svg",
    "/src/data/images/kommune_flakstad.svg",
    "/src/data/images/kommune_flatanger.svg",
    "/src/data/images/kommune_flekkefjord.svg",
    "/src/data/images/kommune_flesberg.svg",
    "/src/data/images/kommune_flaa.svg",
    "/src/data/images/kommune_folldal.svg",
    "/src/data/images/kommune_fredrikstad.svg",
    "/src/data/images/kommune_frogn.svg",
    "/src/data/images/kommune_froland.svg",
    "/src/data/images/kommune_frosta.svg",
    "/src/data/images/kommune_froeya.svg",
    "/src/data/images/kommune_fyresdal.svg",
    "/src/data/images/kommune_faerder.svg",
    "/src/data/images/kommune_gamvik.svg",
    "/src/data/images/kommune_gausdal.svg",
    "/src/data/images/kommune_gildeskaal.svg",
    "/src/data/images/kommune_giske.svg",
    "/src/data/images/kommune_gjemnes.svg",
    "/src/data/images/kommune_gjerdrum.svg",
    "/src/data/images/kommune_gjerstad.svg",
    "/src/data/images/kommune_gjesdal.svg",
    "/src/data/images/kommune_gjoevik.svg",
    "/src/data/images/kommune_gloppen.svg",
    "/src/data/images/kommune_gol.svg",
    "/src/data/images/kommune_gran.svg",
    "/src/data/images/kommune_grane.svg",
    "/src/data/images/kommune_gratangen.svg",
    "/src/data/images/kommune_grimstad.svg",
    "/src/data/images/kommune_grong.svg",
    "/src/data/images/kommune_grue.svg",
    "/src/data/images/kommune_gulen.svg",
    "/src/data/images/kommune_hadsel.svg",
    "/src/data/images/kommune_halden.svg",
    "/src/data/images/kommune_hamar.svg",
    "/src/data/images/kommune_hamaroey.svg",
    "/src/data/images/kommune_hammerfest.svg",
    "/src/data/images/kommune_haram.svg",
    "/src/data/images/kommune_hareid.svg",
    "/src/data/images/kommune_harstad.svg",
    "/src/data/images/kommune_hasvik.svg",
    "/src/data/images/kommune_hattfjelldal.svg",
    "/src/data/images/kommune_haugesund.svg",
    "/src/data/images/kommune_heim.svg",
    "/src/data/images/kommune_hemnes.svg",
    "/src/data/images/kommune_hemsedal.svg",
    "/src/data/images/kommune_heroey-i-moere-og-romsdal.svg",
    "/src/data/images/kommune_heroey-i-nordland.svg",
    "/src/data/images/kommune_hitra.svg",
    "/src/data/images/kommune_hjartdal.svg",
    "/src/data/images/kommune_hjelmeland.svg",
    "/src/data/images/kommune_hol.svg",
    "/src/data/images/kommune_hole.svg",
    "/src/data/images/kommune_holmestrand.svg",
    "/src/data/images/kommune_holtaalen.svg",
    "/src/data/images/kommune_horten.svg",
    "/src/data/images/kommune_hurdal.svg",
    "/src/data/images/kommune_hustadvika.svg",
    "/src/data/images/kommune_hvaler.svg",
    "/src/data/images/kommune_hyllestad.svg",
    "/src/data/images/kommune_haa.svg",
    "/src/data/images/kommune_haegebostad.svg",
    "/src/data/images/kommune_hoeyanger.svg",
    "/src/data/images/kommune_hoeylandet.svg",
    "/src/data/images/kommune_ibestad.svg",
    "/src/data/images/kommune_inderoey.svg",
    "/src/data/images/kommune_indre-fosen.svg",
    "/src/data/images/kommune_indre-oestfold.svg",
    "/src/data/images/kommune_iveland.svg",
    "/src/data/images/kommune_jevnaker.svg",
    "/src/data/images/kommune_karasjok.svg",
    "/src/data/images/kommune_karlsoey.svg",
    "/src/data/images/kommune_karmoey.svg",
    "/src/data/images/kommune_kautokeino.svg",
    "/src/data/images/kommune_kinn.svg",
    "/src/data/images/kommune_klepp.svg",
    "/src/data/images/kommune_kongsberg.svg",
    "/src/data/images/kommune_kongsvinger.svg",
    "/src/data/images/kommune_krageroe.svg",
    "/src/data/images/kommune_kristiansand.svg",
    "/src/data/images/kommune_kristiansund.svg",
    "/src/data/images/kommune_kroedsherad.svg",
    "/src/data/images/kommune_kvam.svg",
    "/src/data/images/kommune_kvinesdal.svg",
    "/src/data/images/kommune_kvinnherad.svg",
    "/src/data/images/kommune_kviteseid.svg",
    "/src/data/images/kommune_kvitsoey.svg",
    "/src/data/images/kommune_kvaefjord.svg",
    "/src/data/images/kommune_kvaenangen.svg",
    "/src/data/images/kommune_kaafjord.svg",
    "/src/data/images/kommune_larvik.svg",
    "/src/data/images/kommune_lavangen.svg",
    "/src/data/images/kommune_lebesby.svg",
    "/src/data/images/kommune_leirfjord.svg",
    "/src/data/images/kommune_leka.svg",
    "/src/data/images/kommune_lesja.svg",
    "/src/data/images/kommune_levanger.svg",
    "/src/data/images/kommune_lier.svg",
    "/src/data/images/kommune_lierne.svg",
    "/src/data/images/kommune_lillehammer.svg",
    "/src/data/images/kommune_lillesand.svg",
    "/src/data/images/kommune_lillestroem.svg",
    "/src/data/images/kommune_lindesnes.svg",
    "/src/data/images/kommune_lom.svg",
    "/src/data/images/kommune_loppa.svg",
    "/src/data/images/kommune_lund.svg",
    "/src/data/images/kommune_lunner.svg",
    "/src/data/images/kommune_luroey.svg",
    "/src/data/images/kommune_luster.svg",
    "/src/data/images/kommune_lyngdal.svg",
    "/src/data/images/kommune_lyngen.svg",
    "/src/data/images/kommune_laerdal.svg",
    "/src/data/images/kommune_loedingen.svg",
    "/src/data/images/kommune_loerenskog.svg",
    "/src/data/images/kommune_loeten.svg",
    "/src/data/images/kommune_malvik.svg",
    "/src/data/images/kommune_marker.svg",
    "/src/data/images/kommune_masfjorden.svg",
    "/src/data/images/kommune_melhus.svg",
    "/src/data/images/kommune_meloey.svg",
    "/src/data/images/kommune_meraaker.svg",
    "/src/data/images/kommune_midt-telemark.svg",
    "/src/data/images/kommune_midtre-gauldal.svg",
    "/src/data/images/kommune_modalen.svg",
    "/src/data/images/kommune_modum.svg",
    "/src/data/images/kommune_molde.svg",
    "/src/data/images/kommune_moskenes.svg",
    "/src/data/images/kommune_moss.svg",
    "/src/data/images/kommune_maalselv.svg",
    "/src/data/images/kommune_maasoey.svg",
    "/src/data/images/kommune_namsos.svg",
    "/src/data/images/kommune_namsskogan.svg",
    "/src/data/images/kommune_nannestad.svg",
    "/src/data/images/kommune_narvik.svg",
    "/src/data/images/kommune_nes.svg",
    "/src/data/images/kommune_nesbyen.svg",
    "/src/data/images/kommune_nesna.svg",
    "/src/data/images/kommune_nesodden.svg",
    "/src/data/images/kommune_nesseby.svg",
    "/src/data/images/kommune_nissedal.svg",
    "/src/data/images/kommune_nittedal.svg",
    "/src/data/images/kommune_nome.svg",
    "/src/data/images/kommune_nord-aurdal.svg",
    "/src/data/images/kommune_nord-fron.svg",
    "/src/data/images/kommune_nord-odal.svg",
    "/src/data/images/kommune_nordkapp.svg",
    "/src/data/images/kommune_nordre-follo.svg",
    "/src/data/images/kommune_nordre-land.svg",
    "/src/data/images/kommune_nordreisa.svg",
    "/src/data/images/kommune_nore-og-uvdal.svg",
    "/src/data/images/kommune_notodden.svg",
    "/src/data/images/kommune_naeroeysund.svg",
    "/src/data/images/kommune_oppdal.svg",
    "/src/data/images/kommune_orkland.svg",
    "/src/data/images/kommune_os.svg",
    "/src/data/images/kommune_osen.svg",
    "/src/data/images/kommune_oslo.svg",
    "/src/data/images/kommune_osteroey.svg",
    "/src/data/images/kommune_overhalla.svg",
    "/src/data/images/kommune_porsanger.svg",
    "/src/data/images/kommune_porsgrunn.svg",
    "/src/data/images/kommune_rakkestad.svg",
    "/src/data/images/kommune_rana.svg",
    "/src/data/images/kommune_randaberg.svg",
    "/src/data/images/kommune_rauma.svg",
    "/src/data/images/kommune_rendalen.svg",
    "/src/data/images/kommune_rennebu.svg",
    "/src/data/images/kommune_rindal.svg",
    "/src/data/images/kommune_ringebu.svg",
    "/src/data/images/kommune_ringerike.svg",
    "/src/data/images/kommune_ringsaker.svg",
    "/src/data/images/kommune_risoer.svg",
    "/src/data/images/kommune_rollag.svg",
    "/src/data/images/kommune_raade.svg",
    "/src/data/images/kommune_raelingen.svg",
    "/src/data/images/kommune_roedoey.svg",
    "/src/data/images/kommune_roeros.svg",
    "/src/data/images/kommune_roest.svg",
    "/src/data/images/kommune_roeyrvik.svg",
    "/src/data/images/kommune_salangen.svg",
    "/src/data/images/kommune_saltdal.svg",
    "/src/data/images/kommune_samnanger.svg",
    "/src/data/images/kommune_sande-i-moere-og-romsdal.svg",
    "/src/data/images/kommune_sandefjord.svg",
    "/src/data/images/kommune_sandnes.svg",
    "/src/data/images/kommune_sarpsborg.svg",
    "/src/data/images/kommune_sauda.svg",
    "/src/data/images/kommune_sel.svg",
    "/src/data/images/kommune_selbu.svg",
    "/src/data/images/kommune_seljord.svg",
    "/src/data/images/kommune_senja.svg",
    "/src/data/images/kommune_sigdal.svg",
    "/src/data/images/kommune_siljan.svg",
    "/src/data/images/kommune_sirdal.svg",
    "/src/data/images/kommune_skaun.svg",
    "/src/data/images/kommune_skien.svg",
    "/src/data/images/kommune_skiptvet.svg",
    "/src/data/images/kommune_skjervoey.svg",
    "/src/data/images/kommune_skjaak.svg",
    "/src/data/images/kommune_smoela.svg",
    "/src/data/images/kommune_snaasa.svg",
    "/src/data/images/kommune_sogndal.svg",
    "/src/data/images/kommune_sokndal.svg",
    "/src/data/images/kommune_sola.svg",
    "/src/data/images/kommune_solund.svg",
    "/src/data/images/kommune_sortland.svg",
    "/src/data/images/kommune_stad.svg",
    "/src/data/images/kommune_stange.svg",
    "/src/data/images/kommune_stavanger.svg",
    "/src/data/images/kommune_steigen.svg",
    "/src/data/images/kommune_steinkjer.svg",
    "/src/data/images/kommune_stjoerdal.svg",
    "/src/data/images/kommune_stor-elvdal.svg",
    "/src/data/images/kommune_stord.svg",
    "/src/data/images/kommune_storfjord.svg",
    "/src/data/images/kommune_strand.svg",
    "/src/data/images/kommune_stranda.svg",
    "/src/data/images/kommune_stryn.svg",
    "/src/data/images/kommune_sula.svg",
    "/src/data/images/kommune_suldal.svg",
    "/src/data/images/kommune_sunndal.svg",
    "/src/data/images/kommune_sunnfjord.svg",
    "/src/data/images/kommune_surnadal.svg",
    "/src/data/images/kommune_sveio.svg",
    "/src/data/images/kommune_sykkylven.svg",
    "/src/data/images/kommune_soemna.svg",
    "/src/data/images/kommune_soendre-land.svg",
    "/src/data/images/kommune_soer-aurdal.svg",
    "/src/data/images/kommune_soer-fron.svg",
    "/src/data/images/kommune_soer-odal.svg",
    "/src/data/images/kommune_soer-varanger.svg",
    "/src/data/images/kommune_soerfold.svg",
    "/src/data/images/kommune_soerreisa.svg",
    "/src/data/images/kommune_tana.svg",
    "/src/data/images/kommune_time.svg",
    "/src/data/images/kommune_tingvoll.svg",
    "/src/data/images/kommune_tinn.svg",
    "/src/data/images/kommune_tjeldsund.svg",
    "/src/data/images/kommune_tokke.svg",
    "/src/data/images/kommune_tolga.svg",
    "/src/data/images/kommune_tromsoe.svg",
    "/src/data/images/kommune_trondheim.svg",
    "/src/data/images/kommune_trysil.svg",
    "/src/data/images/kommune_traena.svg",
    "/src/data/images/kommune_tvedestrand.svg",
    "/src/data/images/kommune_tydal.svg",
    "/src/data/images/kommune_tynset.svg",
    "/src/data/images/kommune_tysnes.svg",
    "/src/data/images/kommune_tysvaer.svg",
    "/src/data/images/kommune_toensberg.svg",
    "/src/data/images/kommune_ullensaker.svg",
    "/src/data/images/kommune_ullensvang.svg",
    "/src/data/images/kommune_ulstein.svg",
    "/src/data/images/kommune_ulvik.svg",
    "/src/data/images/kommune_utsira.svg",
    "/src/data/images/kommune_vadsoe.svg",
    "/src/data/images/kommune_vaksdal.svg",
    "/src/data/images/kommune_valle.svg",
    "/src/data/images/kommune_vang.svg",
    "/src/data/images/kommune_vanylven.svg",
    "/src/data/images/kommune_vardoe.svg",
    "/src/data/images/kommune_vefsn.svg",
    "/src/data/images/kommune_vega.svg",
    "/src/data/images/kommune_vegaarshei.svg",
    "/src/data/images/kommune_vennesla.svg",
    "/src/data/images/kommune_verdal.svg",
    "/src/data/images/kommune_vestby.svg",
    "/src/data/images/kommune_vestnes.svg",
    "/src/data/images/kommune_vestre-slidre.svg",
    "/src/data/images/kommune_vestre-toten.svg",
    "/src/data/images/kommune_vestvaagoey.svg",
    "/src/data/images/kommune_vevelstad.svg",
    "/src/data/images/kommune_vik.svg",
    "/src/data/images/kommune_vindafjord.svg",
    "/src/data/images/kommune_vinje.svg",
    "/src/data/images/kommune_volda.svg",
    "/src/data/images/kommune_voss.svg",
    "/src/data/images/kommune_vaagan.svg",
    "/src/data/images/kommune_vaagaa.svg",
    "/src/data/images/kommune_vaaler-i-innlandet.svg",
    "/src/data/images/kommune_vaaler-i-oestfold.svg",
    "/src/data/images/kommune_vaeroey.svg",
    "/src/data/images/kommune_oeksnes.svg",
    "/src/data/images/kommune_oerland.svg",
    "/src/data/images/kommune_oersta.svg",
    "/src/data/images/kommune_oestre-toten.svg",
    "/src/data/images/kommune_oevre-eiker.svg",
    "/src/data/images/kommune_oeyer.svg",
    "/src/data/images/kommune_oeygarden.svg",
    "/src/data/images/kommune_oeystre-slidre.svg",
    "/src/data/images/kommune_aafjord.svg",
    "/src/data/images/kommune_aal.svg",
    "/src/data/images/kommune_aalesund.svg",
    "/src/data/images/kommune_aamli.svg",
    "/src/data/images/kommune_aamot.svg",
    "/src/data/images/kommune_aardal.svg",
    "/src/data/images/kommune_aas.svg",
    "/src/data/images/kommune_aaseral.svg",
    "/src/data/images/kommune_aasnes.svg",
    "/src/data/imageTypes/type_fylke.svg",
    "/src/data/imageTypes/type_kommune.svg"
];
const scriptsAsset = [
    "/src/scripts/dataHelpers.js",
    "/src/scripts/domHelpers.js",
    "/src/scripts/init.js",
    "/src/scripts/state.js"
];
const stylesAsset = ["/src/styles/fonts.css", "/src/styles/main.css"];
const fontsAsset = [
    "/src/assets/fonts/400-latin-ext.ttf",
    "/src/assets/fonts/400-latin.ttf",
    "/src/assets/fonts/700-latin-ext.ttf",
    "/src/assets/fonts/700-latin.ttf"
];
const iconsAsset = [
    "/src/assets/icons/arrow_left.svg",
    "/src/assets/icons/arrow_right.svg",
    "/src/assets/icons/gallery.svg",
    "/src/assets/icons/image.svg",
    "/src/assets/icons/list.svg",
    "/src/assets/icons/shuffle.svg",
    "/src/assets/icons/sort_by_alpha.svg",
    "/src/assets/icons/visibility_off.svg",
    "/src/assets/icons/visibility_on.svg"
];
const dataAsset = ["/src/data/backgroundColors.js", "/src/data/imageTypes.js", "/src/data/images.js"];
const cacheAsset = ["/index.html"].concat(imagesAsset, scriptsAsset, stylesAsset, fontsAsset, dataAsset); //this is the asset that we want to cache

self.addEventListener("install", (e) => {
    console.log("service worker installed");
    e.waitUntil(
        caches
            .open(cacheName)
            .then((cache) => {
                console.log("service worker: caching files");
                cache.addAll(cacheAsset);
            })
            .then(() => self.skipWaiting())
    );
});

self.addEventListener("activate", (e) => {
    console.log("service worker activated");

    //removing unwanted caches
    e.waitUntil(
        caches.keys().then((cacheName) => {
            return Promise.all(
                cacheName.map((cache) => {
                    if (cache !== cacheName) {
                        console.log("Service worker: clear old caches");
                        return caches.delete(cache);
                    }
                })
            );
        })
    );
});

self.addEventListener("fetch", (e) => {
    console.log("service worker: fetching");
    //checking if the live site is avaialble and if not, responsd with the cache site
    e.respondWith(fetch(e.request).catch(() => caches.match(e.request)));
});
